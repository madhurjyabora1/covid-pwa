{"version":3,"sources":["components/District/District.js","components/Search/Search.js","home.js","App.js","serviceWorker.js","index.js"],"names":["District","state","item","this","props","className","zone","district","districtcode","statecode","lastupdated","Component","Search","search","onSearchInputChange","results","finalSearch","onResultClick","data","showDefaultValues","defaultValues","toggleDefaultValues","onBlurInput","getHighlightedText","text","highlight","parts","split","RegExp","map","part","i","key","toLowerCase","placeholder","type","value","onChange","onFocus","onBlur","aria-hidden","length","filter","idx","dist","onClick","console","log","Home","useState","setSearch","setFinalSearch","setData","setResults","setShowDefaultValues","Mumbai","useEffect","handleRequest","getResults","filterData","a","axios","res","zones","error","newData","toString","newResults","includes","e","target","val","App","exact","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5517ad2e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./District.scss\";\r\nclass District extends Component {\r\n  state = {};\r\n  render() {\r\n    const { item } = this.props;\r\n\r\n    return (\r\n      <div className={`card-body ${item.zone === \"Green\" ? \"background-green\" : item.zone===\"Orange\" ? \"background-orange\" : \"background-red\"\r\n    }`}>\r\n        <h3 className=\"card-body-dist\">\r\n          {item.district}\r\n        </h3>\r\n        <hr/>\r\n        <div className=\"card-body-detail\">\r\n          <div className=\"sub-detail\">\r\n            <span className=\"title\">Zone:</span>\r\n            <b className=\"val\" >\r\n              {item.zone}\r\n            </b>\r\n          </div>\r\n          <div className=\"sub-detail\">\r\n            <span className=\"title\">Code:</span>\r\n            <b className=\"val\">{item.districtcode}</b>\r\n          </div>\r\n          <div className=\"sub-detail\">\r\n            <span className=\"title\">State:</span>\r\n            <b className=\"val\">{item.state}</b>\r\n          </div>\r\n          <div className=\"sub-detail\">\r\n            <span className=\"title\">State Code:</span>\r\n            <b className=\"val\">{item.statecode}</b>\r\n          </div>\r\n          <div className=\"sub-detail\">\r\n            <span className=\"title\">Last Updated:</span>\r\n            <b className=\"val\">{item.lastupdated}</b>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default District;\r\n","import React from \"react\";\r\nimport \"./Search.scss\"\r\nconst Search = ({\r\n  search,\r\n  onSearchInputChange,\r\n  results,\r\n  finalSearch,\r\n  onResultClick,\r\n  data,\r\n  showDefaultValues,\r\n  defaultValues,\r\n  toggleDefaultValues,\r\n  onBlurInput\r\n}) => {\r\n  const getHighlightedText = (text, highlight) => {\r\n    const parts = text.split(new RegExp(`(${highlight})`, \"gi\"));\r\n    return (\r\n      <span className=\"name\">\r\n      \r\n        {parts.map((part, i) => (\r\n          <span\r\n            key={i}\r\n            className={\r\n              part.toLowerCase() === highlight.toLowerCase() ? \"highlight-txt\" : {}\r\n            }\r\n          >\r\n            {part}\r\n          </span>\r\n        ))}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"searchbar\">\r\n      <div className=\"container\">\r\n        <div className=\"search-cont\">\r\n          <div className=\"main\">\r\n            <input\r\n              placeholder=\"Search for a District...\"\r\n              type=\"text\"\r\n              className=\"search-input\"\r\n              value={search}\r\n              onChange={onSearchInputChange}\r\n              onFocus={() => {\r\n                toggleDefaultValues(true);\r\n              }}\r\n              onBlur={onBlurInput}\r\n            />\r\n            <span className=\"search-icon-cont\">\r\n              <i className=\"fa fa-search\" aria-hidden=\"true\" />\r\n            </span>\r\n          </div>\r\n          {!search.length && showDefaultValues ? (\r\n            <div className=\"results\">\r\n              {data\r\n                .filter((item, idx) => defaultValues[item.district])\r\n                .map((dist, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"result\"\r\n                    onClick={() => {\r\n                      console.log(\"item\", dist);\r\n                      onResultClick(dist.district);\r\n                    }}\r\n                  >\r\n                    {getHighlightedText(dist.district, search)}\r\n                    \r\n                  </div>\r\n                ))}\r\n            </div>\r\n          ) : null}\r\n          {finalSearch ? null : results.length ? (\r\n            <div className=\"results\">\r\n              {results.map((item, idx) => (\r\n                <div\r\n                  key={idx}\r\n                  className=\"result\"\r\n                  onClick={() => onResultClick(item.district)}\r\n                >\r\n                  {getHighlightedText(item.district, search)}\r\n                  \r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : search.length ? (\r\n            <div className=\"results\">No results</div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport District from \"./components/District/District\";\r\nimport \"./App.scss\"\r\nimport Search from \"./components/Search/Search\";\r\n\r\n\r\nconst Home = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [finalSearch, setFinalSearch] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [results, setResults] = useState([]);\r\n  const [showDefaultValues, setShowDefaultValues] = useState(false);\r\n  const [defaultValues] = useState({\r\n    Mumbai: true,\r\n  });\r\n  useEffect(() => {\r\n    handleRequest();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getResults();\r\n\r\n    if (finalSearch) {\r\n      filterData();\r\n    } \r\n    // eslint-disable-next-line\r\n  }, [search, finalSearch]);\r\n\r\n  const handleRequest = async () => {\r\n    setData(null);\r\n    try {\r\n      const res = await axios(\"https://api.covid19india.org/zones.json\");\r\n      setData(res.data.zones);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const toggleDefaultValues = val => {\r\n    setShowDefaultValues(val);\r\n  };\r\n\r\n  const onSearchInputChange = e => {\r\n    if (data) {\r\n      setSearch(e.target.value);\r\n      setFinalSearch(false);\r\n      setShowDefaultValues(false);\r\n    }\r\n  };\r\n\r\n  const onResultClick = val => {\r\n    console.log(val, \"val\");\r\n\r\n    setSearch(val);\r\n    setFinalSearch(true);\r\n  };\r\n\r\n  const filterData = () => {\r\n    setData(null);\r\n    let newData = data.filter(\r\n      item => item.district.toString() === search.toString()\r\n    );\r\n\r\n    setData(newData);\r\n  };\r\n\r\n  const getResults = () => {\r\n    if (search.length) {\r\n      let newResults = data.filter(item =>\r\n        item.district.toLowerCase().includes(search.toLowerCase())\r\n      );\r\n\r\n      newResults = newResults.filter((item, idx) => idx <= 5);\r\n\r\n      setResults(newResults);\r\n    } else {\r\n      setResults([]);\r\n    }\r\n  };\r\n  const onBlurInput = e => {\r\n    setShowDefaultValues(false);\r\n  };\r\n  const onResetClick = () => {\r\n    setSearch(\"\");\r\n    setFinalSearch(false);\r\n    setResults([]);\r\n    setShowDefaultValues(false);\r\n\r\n    handleRequest();\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Search\r\n        search={search}\r\n        onSearchInputChange={onSearchInputChange}\r\n        results={results}\r\n        finalSearch={finalSearch}\r\n        onResultClick={onResultClick}\r\n        data={data}\r\n        showDefaultValues={showDefaultValues}\r\n        defaultValues={defaultValues}\r\n        toggleDefaultValues={toggleDefaultValues}\r\n        onBlurInput={onBlurInput}\r\n      />\r\n      <div className=\"main-data\">\r\n        <div className=\"container\">\r\n          {data === null ? (\r\n            <div>Wait</div>\r\n          ) : (\r\n            data.map((item, idx) => <District key={idx} item={item} />)\r\n          )}\r\n        </div>\r\n      </div>\r\n      {finalSearch ? (\r\n        <div className=\"reset-btn\">\r\n          <button onClick={onResetClick} className=\"extra\">\r\n            Reset\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport Home from \"./home\";\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Home}/>\n        \n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}